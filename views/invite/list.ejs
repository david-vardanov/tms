<% layout('layout.ejs') %>
<div class="container mt-4">
    <div class="row">
      <div class="col">
        <h2>invites List</h2>
  
        
<div class="row mt-4">
    <div class="col">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Invite Email</th>
            <th scope="col">MC Number</th>
            <th scope="col">Created By</th>
            <th scope="col">Expired</th>
            <th scope="col">Expires At</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% invites.forEach(invite => { %>
            <tr>
              <td id="inviteId"><%= invite._id %></td>
              <td><%= invite.email %></td>
              <td><%= invite.mcNumber %></td>
              <td><%= invite.createdBy %></td>
              <td><%= invite.isExpired ? 'Yes' : 'No' %></td>
              <td><%= invite.expiresAt %></td>
              <td>
                <% if(user.role==="admin") { %>
                    <form id="deleteInviteForm">
                      <input type="hidden" id="inviteId" value="<%=invite._id %>">
                      <button type="button" class="btn btn-danger btn-sm btn-delete" data-id="<%= invite._id %>" >Delete</button>
                  </form>
                    <% } %>
                </td>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
  
  <!-- Pagination -->
  <div class="row">
    <div class="col">
      <nav aria-label="invites pagination">
        <ul class="pagination">
          <% pagesInvites.forEach(page => { %>
            <li class="page-item <%= page.active ? 'active' : '' %>">
              <a class="page-link" href="?page=<%= page.number %>"><%= page.number %></a>
            </li>
          <% }) %>
        </ul>
      </nav>
    </div>
  </div>
  
  </div> <!-- Close container -->
  
  